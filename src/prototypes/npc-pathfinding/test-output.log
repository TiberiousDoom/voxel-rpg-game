
############################################################
# NPC PATHFINDING PERFORMANCE TEST SUITE
############################################################

============================================================
TEST: 50 NPCs for 60.0 seconds
============================================================

=== Setting up test environment (25x25x25 grid) ===
Created 5 buildings
Spawned 50 NPCs

Environment ready:
  - Grid size: 25x25x25
  - Buildings: 5
  - NPCs: 50
  - Free spaces: 15620

=== Running simulation for 600 ticks (60.0s) ===
Tick 100/600 (10.0s) - FPS: 5301.9, Frame: 0.19ms, Moved: 50/50
Tick 200/600 (20.0s) - FPS: 7578.3, Frame: 0.13ms, Moved: 50/50
Tick 300/600 (30.0s) - FPS: 9495.1, Frame: 0.11ms, Moved: 50/50
Tick 400/600 (40.0s) - FPS: 9407.3, Frame: 0.11ms, Moved: 50/50
Tick 500/600 (50.0s) - FPS: 9511.7, Frame: 0.11ms, Moved: 50/50
Tick 600/600 (60.0s) - FPS: 8576.1, Frame: 0.12ms, Moved: 50/50

=== Simulation Complete ===
Total elapsed time: 97ms
Simulation speed: 1.62x real-time

--- Test Results ---
FPS: 6262.2 avg (min: 79.3, max: 9514.5)
Frame time: 0.16ms avg
  - Pathfinding: 0.02ms
  - Movement: 0.13ms
Movement: 30000 NPCs moved
Distance traveled: 41853.55 cells
Stuck recoveries: 0

--- Success Criteria ---
✓ 50 NPCs @ 60 FPS: PASS (actual: 6262.2 FPS)
✓ Pathfinding < 50ms: PASS (actual: 0.02ms)
✓ No crashes: PASS

============================================================
TEST: 100 NPCs for 60.0 seconds
============================================================

=== Setting up test environment (25x25x25 grid) ===
Created 5 buildings
Spawned 100 NPCs

Environment ready:
  - Grid size: 25x25x25
  - Buildings: 5
  - NPCs: 100
  - Free spaces: 15620

=== Running simulation for 600 ticks (60.0s) ===
Tick 100/600 (10.0s) - FPS: 4423.7, Frame: 0.23ms, Moved: 100/100
Tick 200/600 (20.0s) - FPS: 3245.8, Frame: 0.31ms, Moved: 100/100
Tick 300/600 (30.0s) - FPS: 4260.2, Frame: 0.23ms, Moved: 100/100
Tick 400/600 (40.0s) - FPS: 4109.8, Frame: 0.24ms, Moved: 100/100
Tick 500/600 (50.0s) - FPS: 4493.6, Frame: 0.22ms, Moved: 100/100
Tick 600/600 (60.0s) - FPS: 4476.7, Frame: 0.22ms, Moved: 100/100

=== Simulation Complete ===
Total elapsed time: 151ms
Simulation speed: 2.52x real-time

--- Test Results ---
FPS: 3997.8 avg (min: 121.9, max: 19625.9)
Frame time: 0.25ms avg
  - Pathfinding: 0.01ms
  - Movement: 0.22ms
Movement: 60000 NPCs moved
Distance traveled: 83809.82 cells
Stuck recoveries: 0

--- Success Criteria ---
✓ 100 NPCs @ 30 FPS: PASS (actual: 3997.8 FPS)
✓ Pathfinding < 50ms: PASS (actual: 0.01ms)
✓ No crashes: PASS

============================================================
TEST SUITE SUMMARY
============================================================

50 NPCs:
  FPS: 6262.2 (target: 60)
  Status: ✓ PASS

100 NPCs:
  FPS: 3997.8 (target: 30)
  Status: ✓ PASS

============================================================
OVERALL VERDICT: ✓ ALL TESTS PASSED
Pathfinding prototype is ready for Phase 3
============================================================

Results saved to: /home/user/voxel-rpg-game/src/prototypes/npc-pathfinding/pathfinder-test-results.json
Report saved to: /home/user/voxel-rpg-game/src/prototypes/npc-pathfinding/PATHFINDING_TEST_REPORT.md
